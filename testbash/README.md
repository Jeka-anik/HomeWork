# Использовать, как можно больше функционала, который мы проходили (функции и тд)

## Скрипт 1. Нужно загрузить файл в директорию /tmp на удаленном сервере (все сделать c тестами). Мы вводим айпи адрес с клавиатуры. Далее проверяем, правильно ли введен адрес и есть ли пинг. Нужно загрузить один файл, который в архиве (проверить есть ли данный файл) в /tmp директорию. Проверить успешно ли залился файл и вывести сообщение в консоль. За собой все подчистить. ##
```bash
#!/bin/bash
echo "Input IP"
read adres
virt="192.168.122.56"
echo $adres
if [ "$adres" = "$virt" ]
then 
echo "ok"
ping -c4 192.168.122.56
echo "Есть пинг"
echo "разархивируем файл "
gunzip -c ~/HomeWork/testbash/file.gz
scp file.txt rab2@192.168.122.56:/tmp
ssh -t rab2@192.168.122.56 'sudo test -f "/tmp/file.txt" && echo yes'
else 
echo "ne ok"
fi
```
Вывод команды 

```bash
anik@K53:~/HomeWork/testbash$ ./touch.sh
Input IP
192.168.122.56
192.168.122.56
ok
PING 192.168.122.56 (192.168.122.56) 56(84) bytes of data.
64 bytes from 192.168.122.56: icmp_seq=1 ttl=64 time=0.461 ms
64 bytes from 192.168.122.56: icmp_seq=2 ttl=64 time=0.520 ms
64 bytes from 192.168.122.56: icmp_seq=3 ttl=64 time=0.598 ms
64 bytes from 192.168.122.56: icmp_seq=4 ttl=64 time=0.562 ms

--- 192.168.122.56 ping statistics ---
4 packets transmitted, 4 received, 0% packet loss, time 3079ms
rtt min/avg/max/mdev = 0.461/0.535/0.598/0.050 ms
Есть пинг
разархивируем файл 
rab2@192.168.122.56's password: 
file.txt                                                                                                100%    0     0.0KB/s   00:00    
rab2@192.168.122.56's password: 
[sudo] пароль для rab2: 
yes
Connection to 192.168.122.56 closed.
```

# Скрипт 2*. Дается адрес сети и маска проверяем правильно ли все задано находим живые хосты в сети (через пинг например, 3 пинга успешных) Заливаем свой сервис на эти хосты и запускаем его
немного данных с которыми работать хочу 
inet 192.168.122.56  netmask 255.255.255.0
inet 192.168.122.53  netmask 255.255.255.0
/etc/systemd/system/my.service
наработки 
```bash
#!/bin/bash
if ping -c3 192.168.122.56
then 
echo "Connect"
scp my.service rab2@192.168.122.56:/etc/systemd/system/my.service
else echo "noConnect"

fi
```
Скрипт 3*.
Написать скрипт (сервис), считывающий адреса хостов из файла, в котором # как
положено начало комментария, если за адресом хоста стоит # то скрипт
отбрасывает комментарий и нормально отрабатывает адрес.
далее делает проверку на валидность адресов
далее мониторит доступность адресов и если с какого-то адреса не вернулись 5
подряд пингов, каждый с таймаутом в 1 сек (таймауты в самом ping можно
выставлять) то шлет на твою почту письмо с уведомлением, что у хоста ${address}
поменялось состояние с UP на DOWN
далее, когда подряд 5 пингов вернул хост, шли себе письмо, что хост ${address}
поменял состояние с DOWN на UP